#include <16F877a.h>

#device ADC = 10

#use delay(crystal = 20000000)

#FUSES NOWDT, NOBROWNOUT, NOLVP




//Directiva para utilizar puerto USART

#use rs232(BAUD=9600, XMIT = PIN_C6, RCV=PIN_C7)




#use STANDARD_IO(B)
#use STANDARD_IO(C)



#define BOTON PIN_C0

#define R PIN_B1

#define Y PIN_B2

#define G PIN_B3

void verde(int8 seg)
{
   for(int8 i=0;i<(seg*1000);i++)
   {
      if(input(BOTON)==1)
      {
         i=(seg*1000);
      }
      output_high(G);
      delay_ms(1);
   }
   output_low(G);
}


void main()

{

   setup_uart(9600); //Configurar baudios

   // Inicializar pines
   input(BOTON);

   output_low(R);

   output_low(Y);

   output_low(G);

while(1)
   verde(4000)   

}
